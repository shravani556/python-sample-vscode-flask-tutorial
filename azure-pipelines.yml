trigger:
- main

pool:
  name: Default

steps:
- task: CmdLine@2
  inputs:
    script: |
      python -m pip install --upgrade pip
      python -m pip install -r requirements.txt
      python -m pip install pytest pytest-azurepipelines
      python -m pytest
  displayName: 'Install dependencies and run tests'